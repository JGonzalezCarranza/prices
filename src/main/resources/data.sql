DROP TABLE IF EXISTS PRICES;
DROP TABLE IF EXISTS BRANDS;

CREATE TABLE BRANDS (
  BRAND_ID INT AUTO_INCREMENT  PRIMARY KEY,
  NOMBRE varchar(250)
);


CREATE TABLE PRICES (
  ID INT AUTO_INCREMENT  PRIMARY KEY,
  BRAND_ID INT ,
  START_DATE TIMESTAMP,
  END_DATE TIMESTAMP,
  PRICE_LIST REAL DEFAULT NULL,
  PRODUCT_ID INT DEFAULT NULL,
  PRIORITY INT DEFAULT NULL,
  PRICE REAL DEFAULT NULL,
  CURR VARCHAR(10) DEFAULT NULL,
  foreign key (BRAND_ID) references BRANDS(BRAND_ID)
);

INSERT INTO BRANDS (nombre) VALUES ('ZARA');

INSERT INTO PRICES (brand_id, start_date, end_date,price_list, product_id, priority, price, curr) VALUES
  ('1', PARSEDATETIME('2020-06-14-00.00.00', 'yyyy-MM-dd-HH.mm.ss'), PARSEDATETIME('2020-12-31-23.59.59', 'yyyy-MM-dd-HH.mm.ss'), 1, 35455, 0, 35.50, 'EUR'),
  ('1', PARSEDATETIME('2020-06-14-15.00.00', 'yyyy-MM-dd-HH.mm.ss'), PARSEDATETIME('2020-06-14-18.30.00', 'yyyy-MM-dd-HH.mm.ss'), 2, 35455, 1, 25.45, 'EUR'),
  ('1', PARSEDATETIME('2020-06-15-00.00.00', 'yyyy-MM-dd-HH.mm.ss'), PARSEDATETIME('2020-06-15-11.00.00', 'yyyy-MM-dd-HH.mm.ss'), 3, 35455, 1, 30.50, 'EUR'),
  ('1', PARSEDATETIME('2020-06-15-16.00.00', 'yyyy-MM-dd-HH.mm.ss'), PARSEDATETIME('2020-12-31-23.59.59', 'yyyy-MM-dd-HH.mm.ss'), 4, 35455, 1, 38.95, 'EUR');
